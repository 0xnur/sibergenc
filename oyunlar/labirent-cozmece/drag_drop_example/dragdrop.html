<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Sibergenc</title>
    
    <!--jQuery-->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <!--Bootstrap-->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

    <!--My files-->
    <link type="text/css" rel="stylesheet" href="css/dragdrop.css">
<script rel="JavaScript">
// A $( document ).ready() block.
$( document ).ready(function() {
    $(".block").draggable({ addClasses: false,
    connectToSortable: "#executeList, #commandList",revert: true,revertDuration: 0,zIndex: 1000,appendTo: "body"});

    $(".dropableBlock").droppable({
        accept: ".block",
        greedy: true,
        drop : function(event, ui){
            var elementId = ui.draggable.attr("id");
            console.log(this)
            console.log(elementId);
            console.log($(".whileBlock").children('#'+elementId).length);
            if($(".whileBlock").children('#'+elementId).length == 0) {
                ui.draggable.detach().appendTo($(this));
                console.log('in whileBlock');
            }
            else
                console.log('already exist in whileBlock');
    }
        
    }).sortable({
      items: ".block",
      sort: function() {
        // gets added unintentionally by droppable interacting with sortable
        // using connectWithSortable fixes this, but doesn't allow you to customize active/hoverClass options

      }
    });


    $("#executeList, #commandList").sortable({
      items: ".block",    
    }).droppable({
        accept: ":not(.ui-sortable-helper)",
        greedy: true,
        drop : function(event, ui){
            
            $( this ).find( ".placeholder" ).remove();
            ui.draggable.appendTo($(this));
          
    }
        
    });
});


</script>
<style>

#executeList, #commandList{ min-height:400px;  border:1px solid #efefef;}
.block {width: 200px;}
.whileBlock {display: block;}
</style>
  </head>
  <body>
    
<!-- Columns are always 50% wide, on mobile and desktop -->
    <div id="example-1-4">

                <div id="containment">
<div class="row">
  <div class="col-xs-2 connectedSortable" id="commandList">
    <!-- Start While Block -->
    <div class="panel panel-default block" id="uniq1">
      <div class="panel-heading">
        <h3 class="panel-title">While X</h3>
      </div>
      <div class="panel-body dropableBlock">
        asfdasdf
      </div>
    </div>
    <!-- Finish While Block -->

       <!-- Start If Else Block -->
    <div class="panel panel-default block" id="uniq2">
        <div class="panel-heading">
        <h3 class="panel-title">IF X </h3>
      </div>
      <div class="panel-body dropableBlock">
        Panel content
      </div>
             <div class="panel-heading">
        <h3 class="panel-title ">ELSE IF X </h3>
      </div>
        <div class="panel-body dropableBlock">
        Panel content
      </div>
      <div class="panel-footer"></div>
    </div>
    <!-- Finish If Else Block -->

    <!-- Start Walk Forward Block -->
    <div class="panel panel-default block" id="uniq1">
      <div class="panel-body">
        Move Forward X Step 
      </div>
    </div>
    <!-- Finish Walk Forward Block -->

     <!-- Start Walk Forward Block -->
    <div class="panel panel-default block" id="uniq8">
      <div class="panel-body">
        Move Forward X Step 
      </div>
    </div>
    <!-- Finish Walk Forward Block -->


     <!-- Start Walk Forward Block -->
    <div class="panel panel-default block" id="uniq7">
      <div class="panel-body">
        Move Forward X Step 
      </div>
    </div>
    <!-- Finish Walk Forward Block -->

     <!-- Start Walk Forward Block -->
    <div class="panel panel-default block" id="uniq6">
      <div class="panel-body">
        Move Forward X Step 
      </div>
    </div>
    <!-- Finish Walk Forward Block -->

     <!-- Start Walk Forward Block -->
    <div class="panel panel-default block" id="uniq5">
      <div class="panel-body">
        Move Forward X Step 
      </div>
    </div>
    <!-- Finish Walk Forward Block -->

     <!-- Start Walk Forward Block -->
    <div class="panel panel-default block" id="uniq4">
      <div class="panel-body">
        Move Forward X Step 
      </div>
    </div>
    <!-- Finish Walk Forward Block -->


  </div>
  <div class="col-xs-2 connectedSortable" id="executeList">

<div class="placeholder">drag and drop here  
</div>
    </div>
</div>


    </div>
</div>